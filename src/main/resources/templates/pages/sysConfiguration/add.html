<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="../../css/pageAll.css" />
<script src="../../js/pageAll.js"></script>
</head>
<body>
 
  <div id="sysConfiguration">
    <div class="searchBox">
      <el-input prefix-icon="iconfont icon-sousuo" v-model="searchTableInfo" placeholder="请输入搜索内容" style="width:240px"></el-input>
    </div>
    <el-table
      :data="tableData.slice((currpage - 1) * pagesize, currpage * pagesize)"
      border
      @selection-change="handleSelectionChange"
      style="width: 100%;margin: 10px 0;text-align:center;">
      <el-table-column
        type="selection"
        align="center"
         >
      </el-table-column>
      <el-table-column
        prop="date"
        align="center"
        label="手机"
         >
      </el-table-column>
      <el-table-column
        prop="name"
        align="center"
        label="姓名"
         >
      </el-table-column>
      <el-table-column
        prop="address"
        align="center"
        label="地址"
       >
      </el-table-column>
       <el-table-column
        align="center"
        label="操作"
       >
           <template slot-scope="scope">
              <el-button size="mini" type="primary"  @click.native.prevent="handleEdit(scope.row)">编辑</el-button>
              <el-button size="mini" type="danger"  @click.native.prevent="handleEdit(scope.row)">删除</el-button>
            </template>
      </el-table-column>
      
    </el-table>
    <!--分页-->
    <el-pagination
      center
      background
      layout="prev, pager, next, sizes, total, jumper"
      :page-sizes="[10,100,1000,2000]"
      :page-size="pagesize"
      :total="tableData.length"
      @current-change="handleCurrentChange"
      @size-change="handleSizeChange"
    >
    </el-pagination>
  </div>
 

<script>
 var vm =new  Vue( {
        el:"#sysConfiguration",
	    data:{
	    	   searchTableInfo:"",
		       pagesize: 10,
		       currpage: 1,
		       getSearchInfo:[],
	    	
	    },
	      methods: {
	        handleCurrentChange(cpage) {
	          this.currpage = cpage;
	        },
	        handleSizeChange(psize) {
	          this.pagesize = psize;
	        },
	        //操作多选
	        handleSelectionChange(val) {
	        	console.log(val);
	          this.multipleSelection = val;
	        },
	        handleEdit(val){
	        	console.log(val.name);
	        },
	        
	        
	        
	        //获取信息
	        info(){
	        //这些数据视情况，是你从后端拿来的。
	          let Data=[
	            {
	              date: "2016-05-01",
	              name: "王小虎",
	              
	              address: "上海市普陀区金沙江路 1518 弄"
	            } 
 
	          ];
	          this.getSearchInfo = Data;
	      
	        }
	      },
	      computed: {
	        // 根据计算属性模糊搜索
	        tableData () {
	          const searchTableInfo = this.searchTableInfo
	          if (searchTableInfo) {
	            return this.getSearchInfo.filter(data => {
	             return Object.keys(data).some(key => {
	                return String(data[key]).toLowerCase().indexOf(searchTableInfo) > -1
	              })
	            })
	          }
	          return this.getSearchInfo
	        }
	      },
	      created(){
	        this.info();
	      }
 })
</script>
 
</body>
</html>